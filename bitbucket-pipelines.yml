# This is a sample build configuration for C++ â€“ Make.
# Check our guides at https://confluence.atlassian.com/x/5Q4SMw for more examples.
# Only use spaces to indent your .yml configuration.
# -----
# You can specify a custom docker image from Docker Hub as your build environment.
image: gcc:6.5

pipelines:
  default:
    - step:
        script: # Modify the commands below to build your repository.
          # - apt-get update && apt-get -y install cmake
          # - cmake -B build .
          # - cmake --build /opt/atlassian/pipelines/agent/build --config Debug --target all -- -j 4
          # - /opt/atlassian/pipelines/agent/build/spacex-launch-parser-test/spacex-launch-parser-test
            
          # - apt-get update -qq
            # - apt-get install software-properties-common -y
            # # Add PPA repository.
            # - echo 'deb http://ppa.launchpad.net/george-edison55/cmake-3.x/ubuntu trusty main' | tee -a /etc/apt/sources.list.d/cmake.list
            # - apt-get update -qq
            # - apt-get install cmake -y --force-yes
            # # Print the CMake version.
            # - cmake --version          
            # - mkdir build
            # - cd build
            # # Call the CMake.
            # - cmake ..
            # # Build the project.
            # - make

            - version=3.8
            - build=0
            - mkdir ~/temp
            - cd ~/temp
            - wget https://cmake.org/files/v$version/cmake-$version.$build.tar.gz
            - tar -xzvf cmake-$version.$build.tar.gz
            - cd cmake-$version.$build/
            - ./bootstrap
            - make -j$(nproc)
            - cmake --version
